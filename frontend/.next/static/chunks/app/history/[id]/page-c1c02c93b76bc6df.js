(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[117],{35113:function(e,t,s){Promise.resolve().then(s.bind(s,42007))},42007:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(57437),n=s(2265),a=s(35475),l=s(28223),i=s(12023);function o(){let e=(0,a.useParams)(),t=null==e?void 0:e.id,[s,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(!0),[x,u]=(0,n.useState)(null);return((0,n.useEffect)(()=>{t&&(async()=>{try{let e=await (0,l.BP)(t);o(e)}catch(e){u((null==e?void 0:e.message)||"Failed to load item")}finally{d(!1)}})()},[t]),c)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):x||!s?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:x||"Not found"}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:(0,r.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 backdrop-blur-sm bg-opacity-90 mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Original Prompt"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:new Date(s.createdAt).toLocaleString()})]}),(0,r.jsx)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-100",children:(0,r.jsx)("p",{className:"text-gray-700 text-lg",children:s.prompt})})]}),(0,r.jsx)(i.Z,{results:{prompt:s.prompt,responsesWithEvaluations:s.responsesWithEvaluations}})]})})}},12023:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(57437);s(2265);var n=s(86202),a=s(86574),l=s(33968);function i(e){let{content:t}=e;return(0,r.jsx)(n.UG,{components:{code(e){let{className:t,children:s}=e,n=/language-(\w+)/.exec(t||"");return n?(0,r.jsx)(a.Z,{style:l.Z,language:n[1],PreTag:"div",children:String(s).replace(/\n$/,"")}):(0,r.jsx)("code",{className:t,children:s})}},children:t})}function o(e){let{responseData:t}=e,{label:s,model:n,response:a,evaluations:l}=t,o=l.reduce((e,t)=>e+t.score,0)/l.length;return(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden backdrop-blur-sm bg-opacity-90 transition-all duration-300 hover:shadow-2xl",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white px-6 py-4 border-b border-gray-100",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsx)("span",{className:"text-2xl font-semibold text-gray-700",children:n})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 ".concat(o>=8?"text-green-600":o>=6?"text-blue-600":"text-yellow-600"," bg-white px-4 py-2 rounded-full shadow-sm"),children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,r.jsx)("span",{className:"text-lg font-bold",children:o.toFixed(1)})]})]})}),(0,r.jsx)("div",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"prose max-w-none",children:(0,r.jsx)(i,{content:a})})}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-white px-6 py-4 border-t border-gray-100",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Model Evaluations"}),(0,r.jsx)("div",{className:"space-y-4",children:l.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 hover:border-blue-200 transition-colors duration-200",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsx)("span",{className:"font-medium text-gray-800 bg-gray-100 px-3 py-1 rounded-full text-sm",children:e.model}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-50 px-3 py-1 rounded-full",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,r.jsxs)("span",{className:"font-semibold text-gray-700",children:[e.score,"/10"]})]})]}),(0,r.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:e.explanation})]},t))})]})]})}function c(e){let{results:t}=e,{responsesWithEvaluations:s}=t,n=e=>e&&0!==e.length?e.reduce((e,t)=>e+(t.score||0),0)/e.length:0,a=[...s].sort((e,t)=>{let s=n(e.evaluations);return n(t.evaluations)-s});return(0,r.jsx)("div",{className:"w-full max-w-4xl space-y-8",children:a.map(e=>(0,r.jsx)(o,{responseData:e},e.label))})}},28223:function(e,t,s){"use strict";s.d(t,{BP:function(){return o},Xe:function(){return a},hj:function(){return l},s1:function(){return i}});let r="http://localhost:5050/api";function n(){let e="consensusai_client_id",t=window.localStorage.getItem(e);return t||(t=crypto.randomUUID(),window.localStorage.setItem(e,t)),t}async function a(e){let t=await fetch("".concat(r,"/prompt/submit"),{method:"POST",headers:{"Content-Type":"application/json","x-client-id":n()},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to submit prompt");return t.json()}async function l(e){let t=await fetch("".concat(r,"/prompt/evaluate"),{method:"POST",headers:{"Content-Type":"application/json","x-client-id":n()},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to evaluate responses");return t.json()}async function i(){let e=await fetch("".concat(r,"/history"),{headers:{"x-client-id":n()}});if(!e.ok)throw Error("Failed to fetch history");return e.json()}async function o(e){let t=await fetch("".concat(r,"/history/").concat(e),{headers:{"x-client-id":n()}});if(!t.ok)throw Error("Failed to fetch history item");return t.json()}}},function(e){e.O(0,[681,971,966,744],function(){return e(e.s=35113)}),_N_E=e.O()}]);